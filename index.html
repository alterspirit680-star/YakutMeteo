<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—è –Ø–∫—É—Ç–∏–∏ - –ê–õ–†–û–°–ê</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #1a5276;
            --secondary: #2874a6;
            --danger: #e74c3c;
            --warning: #f39c12;
            --success: #27ae60;
            --light: #ecf0f1;
            --dark: #2c3e50;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }

        .header-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 5px;
        }

        .current-time {
            font-size: 1.1rem;
            font-weight: 500;
        }

        .timezone-info {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .user-actions {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: white;
            color: var(--primary);
        }

        .btn-outline {
            background-color: transparent;
            color: white;
            border: 1px solid white;
        }

        .btn-refresh {
            background-color: var(--warning);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-settings {
            background-color: var(--secondary);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        main {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .last-update {
            color: var(--dark);
            font-size: 0.9rem;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .weather-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .weather-card:hover {
            transform: translateY(-5px);
        }

        .weather-card h2 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .weather-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .temperature {
            font-size: 3rem;
            font-weight: 700;
        }

        .weather-icon {
            font-size: 4rem;
            color: var(--secondary);
        }

        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .alert {
            padding: 12px;
            border-radius: 6px;
            margin-top: 15px;
            font-weight: 500;
        }

        .alert-danger {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--danger);
            border-left: 4px solid var(--danger);
        }

        .alert-warning {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--warning);
            border-left: 4px solid var(--warning);
        }

        .alert-success {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success);
            border-left: 4px solid var(--success);
        }

        .recommendation {
            background-color: rgba(41, 116, 166, 0.05);
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            border-left: 4px solid var(--secondary);
        }

        .charts-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 20px;
            margin-bottom: 30px;
        }

        .charts-section h2 {
            color: var(--primary);
            margin-bottom: 20px;
        }

        .chart-container {
            height: 300px;
            margin-bottom: 20px;
        }

        .advanced-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 20px;
        }

        .advanced-section h2 {
            color: var(--primary);
            margin-bottom: 20px;
        }

        .scientific-calculations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .calculation-card {
            padding: 15px;
            border-radius: 8px;
            background-color: rgba(41, 116, 166, 0.05);
        }

        .calculation-card h3 {
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .radar-chart {
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin-top: 20px;
        }

        footer {
            background-color: var(--dark);
            color: white;
            padding: 1.5rem 2rem;
            text-align: center;
            margin-top: 40px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: var(--secondary);
        }

        .api-status {
            text-align: center;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 6px;
            font-weight: 500;
        }

        .api-status.success {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .api-status.warning {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--warning);
            border: 1px solid var(--warning);
        }

        .refresh-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .modal-header h2 {
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }

        .settings-group {
            margin-bottom: 20px;
        }

        .settings-group h3 {
            margin-bottom: 10px;
            color: var(--secondary);
        }

        .settings-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .settings-label {
            font-weight: 500;
        }

        .settings-control {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .settings-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .btn-cancel {
            background-color: #95a5a6;
            color: white;
        }

        .btn-save {
            background-color: var(--success);
            color: white;
        }

        .next-update {
            font-size: 0.85rem;
            color: var(--dark);
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }

            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .header-info {
                align-items: center;
            }

            .user-actions {
                width: 100%;
                justify-content: center;
            }

            .controls {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .control-buttons {
                width: 100%;
                justify-content: center;
            }

            .modal-content {
                padding: 20px;
                width: 95%;
            }

            .settings-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <h1>–ú–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—è –Ø–∫—É—Ç–∏–∏</h1>
            </div>
            <div class="header-info">
                <div class="current-time" id="currentTime">–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Ä–µ–º–µ–Ω–∏...</div>
                <div class="timezone-info">–Ø–∫—É—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è (UTC+9)</div>
                <div class="user-actions">
                    <button class="btn btn-primary" id="loginBtn">–í–æ–π—Ç–∏</button>
                    <button class="btn btn-outline" id="registerBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="controls">
            <div>
                <div class="last-update" id="lastUpdate">
                    –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –∑–∞–≥—Ä—É–∑–∫–∞...
                </div>
                <div class="next-update" id="nextUpdate">
                    –°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –∑–∞–≥—Ä—É–∑–∫–∞...
                </div>
            </div>
            <div class="control-buttons">
                <button class="btn btn-settings" id="settingsBtn">
                    <span>‚öôÔ∏è</span>
                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
                <button class="btn btn-refresh" id="refreshBtn">
                    <span id="refreshIcon">üîÑ</span>
                    –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                </button>
            </div>
        </div>

        <div id="apiStatus"></div>
        <div class="loading" id="loadingIndicator">
            –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ...
        </div>

        <section class="dashboard" id="weatherDashboard" style="display: none;">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–≥–æ–¥—ã –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </section>

        <section class="charts-section" id="chartsSection" style="display: none;">
            <h2>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–µ–æ—É—Å–ª–æ–≤–∏–π</h2>
            <div class="chart-container">
                <canvas id="temperatureChart"></canvas>
            </div>
        </section>

        <section class="advanced-section" id="advancedSection" style="display: none;">
            <h2>–ù–∞—É—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>

            <div class="scientific-calculations" id="scientificCalculations">
                <!-- –†–∞—Å—á–µ—Ç—ã –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>

            <h3 style="margin-top: 30px;">–†–∞–¥–∞—Ä-–¥–∏–∞–≥—Ä–∞–º–º–∞ –º–µ—Ç–µ–æ—É—Å–ª–æ–≤–∏–π</h3>
            <div class="radar-chart">
                <canvas id="radarChart"></canvas>
            </div>
        </section>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>

            <div class="settings-group">
                <h3>–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h3>
                <div class="settings-row">
                    <div class="settings-label">–ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:</div>
                    <div class="settings-control">
                        <select id="updateInterval">
                            <option value="1">1 –º–∏–Ω—É—Ç–∞</option>
                            <option value="5">5 –º–∏–Ω—É—Ç</option>
                            <option value="10" selected>10 –º–∏–Ω—É—Ç</option>
                            <option value="15">15 –º–∏–Ω—É—Ç</option>
                            <option value="30">30 –º–∏–Ω—É—Ç</option>
                            <option value="60">1 —á–∞—Å</option>
                            <option value="0">–û—Ç–∫–ª—é—á–µ–Ω–æ</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="settings-group">
                <h3>–ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏–π</h3>
                <div class="settings-row">
                    <div class="settings-label">–ú–∞–∫—Å. —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ (–º/—Å):</div>
                    <div class="settings-control">
                        <input type="number" id="maxWindSpeed" value="15" min="5" max="30">
                    </div>
                </div>
                <div class="settings-row">
                    <div class="settings-label">–ú–∏–Ω. —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C):</div>
                    <div class="settings-control">
                        <input type="number" id="minTemperature" value="-45" min="-60" max="-20">
                    </div>
                </div>
            </div>

            <div class="settings-actions">
                <button class="btn btn-cancel" id="cancelSettings">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-save" id="saveSettings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>–ú–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—è –Ø–∫—É—Ç–∏–∏ &copy; 2025 | –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –ê–õ–†–û–°–ê</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç –Ω–∞ –∫–∞—Ä—å–µ—Ä–∞—Ö</p>
        </div>
    </footer>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const DEFAULT_CONFIG = {
            // –í–ê–® –†–ï–ê–õ–¨–ù–´–ô API –ö–õ–Æ–ß OPENWEATHERMAP
            API_KEY: '6d3e8b8e8a8a8a8a8a8a8a8a8a8a8a8a',
            UPDATE_INTERVAL: 10, // –º–∏–Ω—É—Ç—ã
            ALERT_THRESHOLDS: {
                WIND_SPEED: 15,
                TEMPERATURE: -45
            },
            LOCATIONS: [
                { name: '–ú–∏—Ä–Ω—ã–π', coords: { lat: 62.534, lon: 113.961 } },
                { name: '–£–¥–∞—á–Ω—ã–π', coords: { lat: 66.417, lon: 112.400 } },
                { name: '–ê–π—Ö–∞–ª', coords: { lat: 65.933, lon: 111.483 } }
            ]
        };

        // –†–µ–∑–µ—Ä–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ø–∫—É—Ç–∏–∏ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ) - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ API
        const BACKUP_DATA = {
            '–ú–∏—Ä–Ω—ã–π': {
                temp: -42,
                feels_like: -58,
                humidity: 75,
                pressure: 765,
                wind_speed: 15,
                weather: [{ description: '—Å–Ω–µ–≥', icon: '13d' }]
            },
            '–£–¥–∞—á–Ω—ã–π': {
                temp: -38,
                feels_like: -52,
                humidity: 80,
                pressure: 768,
                wind_speed: 12,
                weather: [{ description: '–æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏', icon: '04d' }]
            },
            '–ê–π—Ö–∞–ª': {
                temp: -35,
                feels_like: -45,
                humidity: 70,
                pressure: 770,
                wind_speed: 8,
                weather: [{ description: '—è—Å–Ω–æ', icon: '01d' }]
            }
        };

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let weatherData = {};
        let temperatureChart = null;
        let radarChart = null;
        let apiWorking = false;
        let lastUpdateTime = null;
        let nextUpdateTime = null;
        let updateIntervalId = null;
        let appConfig = { ...DEFAULT_CONFIG };

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ localStorage
        function loadConfig() {
            const savedConfig = localStorage.getItem('weatherAppConfig');
            if (savedConfig) {
                try {
                    const parsedConfig = JSON.parse(savedConfig);
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º API_KEY –∏–∑ –∫–æ–¥–∞, –Ω–µ –∏–∑ localStorage
                    appConfig = {
                        ...DEFAULT_CONFIG,
                        ...parsedConfig,
                        API_KEY: DEFAULT_CONFIG.API_KEY // –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º API_KEY –∏–∑ –∫–æ–¥–∞
                    };
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:', e);
                    appConfig = { ...DEFAULT_CONFIG };
                }
            }
            return appConfig;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ localStorage
        function saveConfig() {
            // –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º API_KEY –≤ localStorage
            const configToSave = { ...appConfig };
            localStorage.setItem('weatherAppConfig', JSON.stringify(configToSave));
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫ UI
        function applyConfigToUI() {
            document.getElementById('updateInterval').value = appConfig.UPDATE_INTERVAL;
            document.getElementById('maxWindSpeed').value = appConfig.ALERT_THRESHOLDS.WIND_SPEED;
            document.getElementById('minTemperature').value = appConfig.ALERT_THRESHOLDS.TEMPERATURE;

            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            setupAutoUpdate();
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        function setupAutoUpdate() {
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            if (updateIntervalId) {
                clearInterval(updateIntervalId);
                updateIntervalId = null;
            }

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª, –µ—Å–ª–∏ –æ–Ω –≤–∫–ª—é—á–µ–Ω
            if (appConfig.UPDATE_INTERVAL > 0) {
                const intervalMs = appConfig.UPDATE_INTERVAL * 60 * 1000;
                updateIntervalId = setInterval(refreshData, intervalMs);
                console.log(`–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ ${appConfig.UPDATE_INTERVAL} –º–∏–Ω—É—Ç`);
            } else {
                console.log('–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ');
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
            updateNextUpdateInfo();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —è–∫—É—Ç—Å–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (UTC+9)
        function getYakutskTime() {
            const now = new Date();
            // –Ø–∫—É—Ç—Å–∫ UTC+9
            const yakutskOffset = 9 * 60; // –º–∏–Ω—É—Ç—ã
            const localOffset = now.getTimezoneOffset();
            const yakutskTime = new Date(now.getTime() + (localOffset + yakutskOffset) * 60000);
            return yakutskTime;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(date) {
            return date.toLocaleTimeString('ru-RU', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
        function formatDateTime(date) {
            return date.toLocaleString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Å–æ–±—ã—Ç–∏—è
        function formatTimeUntil(targetDate) {
            const now = new Date();
            const diffMs = targetDate - now;

            if (diffMs <= 0) return '—Å–µ–π—á–∞—Å';

            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMins / 60);
            const remainingMins = diffMins % 60;

            if (diffHours > 0) {
                return `—á–µ—Ä–µ–∑ ${diffHours}—á ${remainingMins}–º`;
            } else {
                return `—á–µ—Ä–µ–∑ ${diffMins}–º`;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
        function updateHeaderTime() {
            const yakutskTime = getYakutskTime();
            document.getElementById('currentTime').textContent = formatTime(yakutskTime);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        function updateLastUpdateTime() {
            if (lastUpdateTime) {
                document.getElementById('lastUpdate').textContent =
                    `–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ${formatDateTime(lastUpdateTime)} (–Ø–∫—É—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è)`;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
        function updateNextUpdateInfo() {
            if (appConfig.UPDATE_INTERVAL > 0 && lastUpdateTime) {
                nextUpdateTime = new Date(lastUpdateTime.getTime() + appConfig.UPDATE_INTERVAL * 60000);
                document.getElementById('nextUpdate').textContent =
                    `–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ${formatTimeUntil(nextUpdateTime)}`;
            } else {
                document.getElementById('nextUpdate').textContent =
                    '–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ —Å OpenWeatherMap API
        async function fetchWeatherData() {
            try {
                const promises = appConfig.LOCATIONS.map(async (location) => {
                    const response = await fetch(
                        `https://api.openweathermap.org/data/2.5/weather?lat=${location.coords.lat}&lon=${location.coords.lon}&appid=${appConfig.API_KEY}&units=metric&lang=ru`
                    );

                    if (!response.ok) {
                        throw new Error(`–û—à–∏–±–∫–∞ HTTP: ${response.status}`);
                    }

                    const data = await response.json();
                    return {
                        name: location.name,
                        data: data
                    };
                });

                const results = await Promise.all(promises);

                results.forEach(result => {
                    if (result.data) {
                        weatherData[result.name] = result.data;
                    }
                });

                apiWorking = true;
                return true;

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å API:', error);

                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ API
                Object.keys(BACKUP_DATA).forEach(location => {
                    weatherData[location] = {
                        main: {
                            temp: BACKUP_DATA[location].temp,
                            feels_like: BACKUP_DATA[location].feels_like,
                            humidity: BACKUP_DATA[location].humidity,
                            pressure: BACKUP_DATA[location].pressure
                        },
                        wind: {
                            speed: BACKUP_DATA[location].wind_speed
                        },
                        weather: BACKUP_DATA[location].weather
                    };
                });

                apiWorking = false;
                return false;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–µ–∫—Å–∞ —Ö–æ–ª–æ–¥–∞ (Wind Chill)
        function calculateWindChill(temperature, windSpeed) {
            if (temperature > 10 || windSpeed < 1.3) {
                return temperature;
            }

            return 13.12 + 0.6215 * temperature - 11.37 * Math.pow(windSpeed, 0.16) +
                   0.3965 * temperature * Math.pow(windSpeed, 0.16);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –æ–±–º–æ—Ä–æ–∂–µ–Ω–∏—è
        function calculateFrostbiteTime(windChill) {
            if (windChill > -18) return '–±–æ–ª–µ–µ 30 –º–∏–Ω—É—Ç';
            if (windChill > -28) return '20-30 –º–∏–Ω—É—Ç';
            if (windChill > -39) return '10-20 –º–∏–Ω—É—Ç';
            if (windChill > -48) return '5-10 –º–∏–Ω—É—Ç';
            return '2-5 –º–∏–Ω—É—Ç';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ç–æ—á–∫–∏ —Ä–æ—Å—ã
        function calculateDewPoint(temperature, humidity) {
            const a = 17.27;
            const b = 237.7;
            const alpha = ((a * temperature) / (b + temperature)) + Math.log(humidity / 100);
            return (b * alpha) / (a - alpha);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –∞–ª–µ—Ä—Ç–∞
        function getAlertType(locationData) {
            const windSpeed = locationData.wind.speed;
            const temperature = locationData.main.temp;

            if (windSpeed > appConfig.ALERT_THRESHOLDS.WIND_SPEED ||
                temperature < appConfig.ALERT_THRESHOLDS.TEMPERATURE) {
                return 'danger';
            } else if (windSpeed > appConfig.ALERT_THRESHOLDS.WIND_SPEED - 3 ||
                      temperature < appConfig.ALERT_THRESHOLDS.TEMPERATURE + 5) {
                return 'warning';
            } else {
                return 'success';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        function getRecommendation(locationData, alertType) {
            const windSpeed = locationData.wind.speed;
            const temperature = locationData.main.temp;

            if (alertType === 'danger') {
                if (windSpeed > appConfig.ALERT_THRESHOLDS.WIND_SPEED) {
                    return '–í–µ—Ç–µ—Ä –ø—Ä–µ–≤—ã—à–∞–µ—Ç 15 –º/—Å. –ü–æ–ª–µ—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã. –†–∞–±–æ—Ç—ã –Ω–∞ –∫–∞—Ä—å–µ—Ä–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.';
                } else if (temperature < appConfig.ALERT_THRESHOLDS.TEMPERATURE) {
                    return '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∏–∂–µ -45¬∞C. –†–∞–±–æ—Ç—ã –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –û–±–µ—Å–ø–µ—á–∏—Ç—å —É–∫—Ä—ã—Ç–∏–µ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞.';
                }
            } else if (alertType === 'warning') {
                return '–£—Å–ª–æ–≤–∏—è –±–ª–∏–∑–∫–∏ –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–±–æ—Ç—ã –Ω–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —É—á–∞—Å—Ç–∫–∞—Ö. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —É–∫—Ä—ã—Ç–∏—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞.';
            } else {
                return '–†–∞–±–æ—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã. –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª —Ç–µ–ø–ª–æ–π –æ–¥–µ–∂–¥–æ–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–æ–∑–¥—É—Ö–µ.';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏ –ø–æ–≥–æ–¥—ã
        function getWeatherIcon(weatherCode) {
            const iconMap = {
                '01d': '‚òÄÔ∏è',
                '01n': 'üåô',
                '02d': '‚õÖ',
                '02n': '‚òÅÔ∏è',
                '03d': '‚òÅÔ∏è',
                '03n': '‚òÅÔ∏è',
                '04d': '‚òÅÔ∏è',
                '04n': '‚òÅÔ∏è',
                '09d': 'üåßÔ∏è',
                '09n': 'üåßÔ∏è',
                '10d': 'üå¶Ô∏è',
                '10n': 'üå¶Ô∏è',
                '11d': '‚õàÔ∏è',
                '11n': '‚õàÔ∏è',
                '13d': '‚ùÑÔ∏è',
                '13n': '‚ùÑÔ∏è',
                '50d': 'üå´Ô∏è',
                '50n': 'üå´Ô∏è'
            };

            return iconMap[weatherCode] || 'üå§Ô∏è';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ–≥–æ–¥—ã
        function renderWeatherCards() {
            const dashboard = document.getElementById('weatherDashboard');
            dashboard.innerHTML = '';

            appConfig.LOCATIONS.forEach(location => {
                const locationData = weatherData[location.name];

                if (!locationData) {
                    dashboard.innerHTML += `
                        <div class="weather-card">
                            <h2>${location.name} <span class="time">--:--</span></h2>
                            <div class="loading">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</div>
                        </div>
                    `;
                    return;
                }

                const temp = Math.round(locationData.main.temp);
                const feelsLike = Math.round(locationData.main.feels_like);
                const windSpeed = locationData.wind.speed;
                const humidity = locationData.main.humidity;
                const pressure = Math.round(locationData.main.pressure * 0.750062);
                const weatherIcon = getWeatherIcon(locationData.weather[0].icon);

                const windChill = calculateWindChill(temp, windSpeed);
                const frostbiteTime = calculateFrostbiteTime(windChill);
                const dewPoint = calculateDewPoint(temp, humidity);

                const alertType = getAlertType(locationData);
                const recommendation = getRecommendation(locationData, alertType);

                const alertClass = `alert-${alertType}`;
                let alertText = '';

                if (alertType === 'danger') {
                    if (windSpeed > appConfig.ALERT_THRESHOLDS.WIND_SPEED) {
                        alertText = `‚ö†Ô∏è –û–ø–∞—Å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è: –≤–µ—Ç–µ—Ä >${appConfig.ALERT_THRESHOLDS.WIND_SPEED} –º/—Å, –ø–æ–ª–µ—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã`;
                    } else if (temp < appConfig.ALERT_THRESHOLDS.TEMPERATURE) {
                        alertText = `‚ö†Ô∏è –û–ø–∞—Å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ < ${appConfig.ALERT_THRESHOLDS.TEMPERATURE}¬∞C, —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è`;
                    }
                } else if (alertType === 'warning') {
                    alertText = '‚ö†Ô∏è –°–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–ª–∏–∑–∫–∏ –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º';
                } else {
                    alertText = '‚úÖ –£—Å–ª–æ–≤–∏—è –≤ –Ω–æ—Ä–º–µ: —Ä–∞–±–æ—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏';
                }

                dashboard.innerHTML += `
                    <div class="weather-card">
                        <h2>${location.name} <span class="time">${formatTime(getYakutskTime())}</span></h2>
                        <div class="weather-main">
                            <div class="temperature">${temp}¬∞C</div>
                            <div class="weather-icon">${weatherIcon}</div>
                        </div>
                        <div class="weather-details">
                            <div class="detail-item">
                                <span>–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫:</span>
                                <span>${feelsLike}¬∞C</span>
                            </div>
                            <div class="detail-item">
                                <span>–í–µ—Ç–µ—Ä:</span>
                                <span>${windSpeed} –º/—Å</span>
                            </div>
                            <div class="detail-item">
                                <span>–í–ª–∞–∂–Ω–æ—Å—Ç—å:</span>
                                <span>${humidity}%</span>
                            </div>
                            <div class="detail-item">
                                <span>–î–∞–≤–ª–µ–Ω–∏–µ:</span>
                                <span>${pressure} –º–º —Ä—Ç.—Å—Ç.</span>
                            </div>
                        </div>
                        <div class="alert ${alertClass}">
                            ${alertText}
                        </div>
                        <div class="recommendation">
                            <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</strong> ${recommendation}
                        </div>
                    </div>
                `;
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
        function createTemperatureChart() {
            const ctx = document.getElementById('temperatureChart').getContext('2d');

            const labels = appConfig.LOCATIONS.map(loc => loc.name);
            const temperatures = appConfig.LOCATIONS.map(loc =>
                weatherData[loc.name] ? Math.round(weatherData[loc.name].main.temp) : 0
            );
            const feelsLikeTemps = appConfig.LOCATIONS.map(loc =>
                weatherData[loc.name] ? Math.round(weatherData[loc.name].main.feels_like) : 0
            );

            if (temperatureChart) {
                temperatureChart.destroy();
            }

            temperatureChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)',
                            data: temperatures,
                            backgroundColor: 'rgba(41, 116, 166, 0.7)',
                            borderColor: 'rgba(41, 116, 166, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ (¬∞C)',
                            data: feelsLikeTemps,
                            backgroundColor: 'rgba(231, 76, 60, 0.7)',
                            borderColor: 'rgba(231, 76, 60, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)'
                            }
                        }
                    }
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–¥–∞—Ä-–¥–∏–∞–≥—Ä–∞–º–º—ã
        function createRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');

            const labels = appConfig.LOCATIONS.map(loc => loc.name);

            const datasets = [
                {
                    label: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞',
                    data: appConfig.LOCATIONS.map(loc =>
                        weatherData[loc.name] ? Math.max(weatherData[loc.name].main.temp + 50, 0) : 0
                    ),
                    backgroundColor: 'rgba(231, 76, 60, 0.2)',
                    borderColor: 'rgba(231, 76, 60, 1)',
                    borderWidth: 1
                },
                {
                    label: '–í–µ—Ç–µ—Ä',
                    data: appConfig.LOCATIONS.map(loc =>
                        weatherData[loc.name] ? Math.min(weatherData[loc.name].wind.speed * 5, 100) : 0
                    ),
                    backgroundColor: 'rgba(52, 152, 219, 0.2)',
                    borderColor: 'rgba(52, 152, 219, 1)',
                    borderWidth: 1
                },
                {
                    label: '–í–ª–∞–∂–Ω–æ—Å—Ç—å',
                    data: appConfig.LOCATIONS.map(loc =>
                        weatherData[loc.name] ? weatherData[loc.name].main.humidity : 0
                    ),
                    backgroundColor: 'rgba(46, 204, 113, 0.2)',
                    borderColor: 'rgba(46, 204, 113, 1)',
                    borderWidth: 1
                }
            ];

            if (radarChart) {
                radarChart.destroy();
            }

            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞—É—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
        function renderScientificCalculations() {
            const container = document.getElementById('scientificCalculations');
            container.innerHTML = '';

            appConfig.LOCATIONS.forEach(location => {
                const locationData = weatherData[location.name];

                if (!locationData) return;

                const temp = Math.round(locationData.main.temp);
                const windSpeed = locationData.wind.speed;
                const humidity = locationData.main.humidity;

                const windChill = calculateWindChill(temp, windSpeed);
                const frostbiteTime = calculateFrostbiteTime(windChill);
                const dewPoint = calculateDewPoint(temp, humidity);

                container.innerHTML += `
                    <div class="calculation-card">
                        <h3>${location.name}</h3>
                        <div class="detail-item">
                            <span>–ò–Ω–¥–µ–∫—Å —Ö–æ–ª–æ–¥–∞:</span>
                            <span>${Math.round(windChill)}¬∞C</span>
                        </div>
                        <div class="detail-item">
                            <span>–í—Ä–µ–º—è –¥–æ –æ–±–º–æ—Ä–æ–∂–µ–Ω–∏—è:</span>
                            <span>${frostbiteTime}</span>
                        </div>
                        <div class="detail-item">
                            <span>–¢–æ—á–∫–∞ —Ä–æ—Å—ã:</span>
                            <span>${Math.round(dewPoint)}¬∞C</span>
                        </div>
                    </div>
                `;
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ API
        function updateApiStatus() {
            const statusElement = document.getElementById('apiStatus');

            if (apiWorking) {
                statusElement.innerHTML = `
                    <div class="api-status success">
                        ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å OpenWeatherMap API
                    </div>
                `;
            } else {
                statusElement.innerHTML = `
                    <div class="api-status warning">
                        ‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
                    </div>
                `;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
        async function refreshData() {
            const refreshBtn = document.getElementById('refreshBtn');
            const refreshIcon = document.getElementById('refreshIcon');

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            refreshBtn.disabled = true;
            refreshIcon.classList.add('refresh-spin');

            try {
                document.getElementById('loadingIndicator').style.display = 'block';
                document.getElementById('weatherDashboard').style.display = 'none';

                await fetchWeatherData();
                lastUpdateTime = getYakutskTime();

                updateApiStatus();
                updateLastUpdateTime();
                updateNextUpdateInfo();

                document.getElementById('loadingIndicator').style.display = 'none';
                document.getElementById('weatherDashboard').style.display = 'grid';
                document.getElementById('chartsSection').style.display = 'block';
                document.getElementById('advancedSection').style.display = 'block';

                renderWeatherCards();
                createTemperatureChart();
                createRadarChart();
                renderScientificCalculations();

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
            } finally {
                // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ —É–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                refreshBtn.disabled = false;
                refreshIcon.classList.remove('refresh-spin');
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function openSettingsModal() {
            document.getElementById('settingsModal').style.display = 'flex';
        }

        function closeSettingsModal() {
            document.getElementById('settingsModal').style.display = 'none';
        }

        function saveSettings() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Ñ–æ—Ä–º—ã
            appConfig.UPDATE_INTERVAL = parseInt(document.getElementById('updateInterval').value);
            appConfig.ALERT_THRESHOLDS.WIND_SPEED = parseInt(document.getElementById('maxWindSpeed').value);
            appConfig.ALERT_THRESHOLDS.TEMPERATURE = parseInt(document.getElementById('minTemperature').value);

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            saveConfig();

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            setupAutoUpdate();
            updateNextUpdateInfo();

            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –Ω–æ–≤—ã–º–∏ –ø–æ—Ä–æ–≥–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
            renderWeatherCards();

            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            closeSettingsModal();

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        async function initializeApp() {
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
                loadConfig();
                applyConfigToUI();

                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                await refreshData();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:', error);
                document.getElementById('loadingIndicator').innerHTML =
                    '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.';

                updateApiStatus();
                document.getElementById('loadingIndicator').style.display = 'none';
                document.getElementById('weatherDashboard').style.display = 'grid';
                document.getElementById('chartsSection').style.display = 'block';
                document.getElementById('advancedSection').style.display = 'block';
                renderWeatherCards();
                createTemperatureChart();
                createRadarChart();
                renderScientificCalculations();
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.getElementById('loginBtn').addEventListener('click', function() {
            alert('–§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');
        });

        document.getElementById('registerBtn').addEventListener('click', function() {
            alert('–§—É–Ω–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');
        });

        document.getElementById('refreshBtn').addEventListener('click', refreshData);
        document.getElementById('settingsBtn').addEventListener('click', openSettingsModal);
        document.getElementById('closeModal').addEventListener('click', closeSettingsModal);
        document.getElementById('cancelSettings').addEventListener('click', closeSettingsModal);
        document.getElementById('saveSettings').addEventListener('click', saveSettings);

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.getElementById('settingsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSettingsModal();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            setInterval(updateHeaderTime, 1000);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
            setInterval(() => {
                const timeElements = document.querySelectorAll('.weather-card .time');
                timeElements.forEach(element => {
                    element.textContent = formatTime(getYakutskTime());
                });
            }, 60000);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
            setInterval(updateNextUpdateInfo, 60000);
        });
    </script>
</body>
</html>